<script TYPE="text/javascript">
	function inprogress(elementid) {
		document.getElementById(elementid).className = "inprogress";
	}
	function inprogresscommentag() {
		let proceed = confirm("[% "PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS_MANUAL_IMPORT_BUTTON_WARNING" | string %]");
		if (proceed === true) {
			document.getElementById("commenttagimportstatus").className = "inprogress";
		}
	}
</script>

<style>
@-webkit-keyframes Pulse{from{color:#630030;-webkit-text-shadow:0 0 2px transparent}50%{color:#e33100;-webkit-text-shadow:0 0 5px #e33100}to{color:#630030;-webkit-text-shadow:0 0 2px transparent}}@keyframes Pulse{from{color:#630030;text-shadow:0 0 2px transparent}50%{color:#e33100;text-shadow:0 0 5px #e33100}to{color:#630030;text-shadow:0 0 2px transparent}}.inprogress{padding-left:15px;-webkit-animation-name:Pulse;animation-name:Pulse;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}
.status{visibility:hidden;}
</style>

[% page = "PLUGIN_RATINGSLIGHT" %]
[% PROCESS settings/header.html %]

[% PROCESS plugins/RatingsLight/settings/subpage_chooser.html %]

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_IMPORT_PLAYLISTS" desc="" %]
<b>Import ratings by setting a rating value for <b>all</b> tracks in a playlist.</b>
<br><br>
<table>
	<tr>
		<th style="text-align:center;"><b>[% "PLUGIN_RATINGSLIGHT_IMPORT_PLAYLISTS_PLNAME" | string %]</b></th>
		<th style="text-align:center;padding-left:8px;"><b>[% "PLUGIN_RATINGSLIGHT_IMPORT_PLAYLISTS_PLRATING" | string %]</b></th>
	</tr>
	<tr>
		<th style="height:4px;" colspan="2"></th>
	</tr>
	<tr>
		<td>
			<select name="pref_ratethisplaylistid" id="ratethisplaylistid">
				[% FOREACH plist = allplaylists %]
					<option value="[% plist.id %]">[% plist.playlist %]</option>
				[% END %]
			</select>
		</td>
		<td style="padding-left:8px;">
			<select name="pref_ratethisplaylistrating" id="ratethisplaylistrating">
				[% FOREACH importrating = [0,10,20,30,40,50,60,70,80,90,100] %]
				[% importrating5starscale = importrating / 20 %]
					<option value="[% importrating %]">[% importrating5starscale %]</option>
				[% END %]
			</select>
		</td>
	</tr>
</table>
<br>
	<input style="margin-top:-1px;" name="rateplaylistnow" type="submit" onclick="inprogress('playlistratingstatus');" class="stdclick" value="[% "PLUGIN_RATINGSLIGHT_IMPORT_PLAYLISTS_RATENOW_BUTTON" | string %]">
	<span class='status' id='playlistratingstatus'>rating...</span>
[% END %]
<br><br><br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS" desc="" %]
<b>Import ratings derived from keywords in the comment tags of your files.</b>
<br><br>
<b>Example:</b><br>Rating keyword <b>pre</b>fix = "favstars", rating keyword <b>suffix</b> = "xx": if a comment tag contains "favstars<b>4</b>xx" -> track rating = <b>4</b> stars
<br><br><br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS_RATING_KEYWORD" desc="PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS_RATING_KEYWORD_DESC" %]
<table style="margin-left:5px;" size="50">
	<tr>
		<th style="text-align:center;"><b>Rating Keyword <u>Pre</u>fix</b></th>
		<th style="text-align:center;padding-left:8px;"><b>Rating Keyword <u>Suf</u>fix</b></th>
	</tr>
	<tr>
		<th style="height:4px;" colspan="2"></th>
	</tr>
	<tr>
		<th><input style="text-align:center;" type="text" name="pref_rating_keyword_prefix" id="rating_keyword_prefix" value="[% prefs.rating_keyword_prefix %]" size="20"></th>
		<th style="padding-left:8px;"><input style="text-align:center;" type="text" name="pref_rating_keyword_suffix" id="rating_keyword_suffix" value="[% prefs.rating_keyword_suffix %]" size="20"></th>
	</tr>
</table>
[% END %]
<br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS_AUTOSCAN" desc="PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS_AUTOSCAN_DESC" %]
	<input name="pref_autoscan" id="autoscan" type="checkbox" [% IF prefs.autoscan %] checked [% END %]>
[% END %]
<br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS_MANUAL_IMPORT" desc="PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS_MANUAL_IMPORT_DESC" %]
	<input style="margin-top:-1px;" name="manimport" type="submit" class="stdclick" onClick="inprogresscommentag();" value="[% "PLUGIN_RATINGSLIGHT_IMPORT_COMMENTTAGS_MANUAL_IMPORT_BUTTON" | string %]">
	<span class='status' id='commenttagimportstatus'>importing...</span>
[% END %]
[% END %]

[% PROCESS settings/footer.html %]
