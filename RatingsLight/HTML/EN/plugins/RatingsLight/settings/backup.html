<script TYPE="text/javascript">
	function inprogress(elementid) {
		document.getElementById(elementid).className = "inprogress";
	}
</script>

<style>
@-webkit-keyframes Pulse{from{color:#630030;-webkit-text-shadow:0 0 2px transparent}50%{color:#e33100;-webkit-text-shadow:0 0 5px #e33100}to{color:#630030;-webkit-text-shadow:0 0 2px transparent}}@keyframes Pulse{from{color:#630030;text-shadow:0 0 2px transparent}50%{color:#e33100;text-shadow:0 0 5px #e33100}to{color:#630030;text-shadow:0 0 2px transparent}}.inprogress{padding-left:15px;-webkit-animation-name:Pulse;animation-name:Pulse;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}
.status{visibility:hidden;}
.error{color:red;}
</style>

[% page = "PLUGIN_RATINGSLIGHT" %]
[% PROCESS settings/header.html %]

[% PROCESS plugins/RatingsLight/settings/subpage_chooser.html %]

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_BACKUP" desc="" %]
[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_BACKUP_MANUAL_BACKUP" desc="PLUGIN_RATINGSLIGHT_BACKUP_MANUAL_BACKUP_DESC" %]
	<input name="backup" type="submit" class="stdclick" onclick="inprogress('backupstatus');" value="[% "PLUGIN_RATINGSLIGHT_BACKUP_MANUAL_BACKUP_BUTTON" | string %]">
	<span class='status' id='backupstatus'>[% "PLUGIN_RATINGSLIGHT_BACKUP_MANUAL_BACKUP_INPROGRESS" | string %]</span>
[% END %]
<br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_BACKUP_SCHEDULED_BACKUPS" desc="PLUGIN_RATINGSLIGHT_BACKUP_SCHEDULED_BACKUPS_DESC" %]
	<input name="pref_scheduledbackups" id="scheduledbackups" type="checkbox" [% IF prefs.scheduledbackups %] checked [% END %]>
[% END %]
<br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_BACKUP_SCHEDULED_BACKUPS_BACKUPTIME" desc="PLUGIN_RATINGSLIGHT_BACKUP_SCHEDULED_BACKUPS_BACKUPTIME_DESC" %]
	<input type="text" class="stdedit" name="pref_backuptime" id="backuptime" value="[% prefs.backuptime %]" size="3">
[% END %]
<br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_BACKUP_SCHEDULED_BACKUPS_BACKUPDAYSTOKEEP" desc="PLUGIN_RATINGSLIGHT_BACKUP_SCHEDULED_BACKUPS_BACKUPDAYSTOKEEP_DESC" %]
	<input type="text" class="stdedit" name="pref_backupsdaystokeep" id="backupsdaystokeep" value="[% prefs.backupsdaystokeep %]" size="3"> day(s)
[% END %]
[% END %]
<hr><br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_RESTORE" desc="" %]
[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_RESTORE_SELECTFILE" desc="PLUGIN_RATINGSLIGHT_RESTORE_SELECTFILE_DESC" %]
	<input type="text" class="stdedit selectFile_xml" name="pref_restorefile" id="restorefile" value="[% prefs.restorefile %]" size="40"><br><br>
	<input name="restore" type="submit" class="stdclick" onclick="inprogress('restorestatus');" value="[% "PLUGIN_RATINGSLIGHT_RESTORE_BUTTON" | string %]">
	<span class='status' id='restorestatus'>[% "PLUGIN_RATINGSLIGHT_RESTORE_INPROGESS" | string %]</span>
	<span class='[% IF restoremissingfile %]error[% ELSE %]status[% END %]'>[% IF restoremissingfile == 1 %][% "PLUGIN_RATINGSLIGHT_RESTORE_MISSINGFILE" | string %][% ELSIF restoremissingfile == 2 %][% "PLUGIN_RATINGSLIGHT_RESTORE_NOXMLFILE" | string %][% ELSE %][% END %]</span>
[% END %]
<br>

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_RESTORE_CLEARALLBEFORE" desc="PLUGIN_RATINGSLIGHT_RESTORE_CLEARALLBEFORE_DESC" %]
	<input name="pref_clearallbeforerestore" id="clearallbeforerestore" type="checkbox" [% IF prefs.clearallbeforerestore %] checked [% END %]>
[% END %]
[% END %]

[% PROCESS settings/footer.html %]
